<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Лабораторная 6</title>

<!-- Напишите функцию arrayToList
а также функцию listToArray, которая создаёт массив из списка
Также напишите вспомогательную функцию prepend, которая получает элемент и создаёт новый список, где этот элемент добавлен спереди к первоначальному списку,
 и функцию nth, которая в качестве аргументов принимает список и число, а возвращает элемент на заданной позиции в списке, или же undefined в случае отсутствия такого элемента.
•   Напишите две функции, reverseArray и reverseArrayInPlace. Первая получает массив как аргумент и выдаёт новый массив, с обратным порядком элементов. Вторая работает как оригинальный метод reverse – она меняет порядок элементов на обратный в том массиве, который был ей передан в качестве аргумента. Не используйте стандартный метод reverse.
•   * Реализовать функцию pick(obj, keys), которая принимает аргументами объект и массив строк (названия ключей). Возвращает новый объект, куда вошли все ключи, указанные в массиве keys, и соответствующие значения из объекта obj. Если в объекте obj, нет ключа, указанного в массиве keys, в результирующем объекте этот ключ не должен присутствовать.
 -->   
  
    <script>
        console.log('*********** Задание 1 *************');
        var List = {
            value: 1,
            next: {
                value: 2,
                next: {
                    value: 3,
                    next: null
                }
            }
        };

        // Задание 1

        function arrayToList(arr){
            var i=0, list={};
             function arri(list) {
                 list.value = arr[i];
                 i++;
                    if (i < arr.length) {
                        list.next = {};
                        arri(list.next);
                    }
                    else list.next=null;
                }
        arri(list);
            return list;
        }

        var mar=arrayToList([1,2,3]);
        console.log(mar);

        function listToArray(mylist){
            var ar=[];
            while(mylist){
                ar.push(mylist.value);
                mylist=mylist.next;
            }
            return ar;
        }

        console.log('\nlistToArray(List из задания): ');
        console.log(listToArray(List));
        console.log('\nlistToArray(мной созданный объект): ');
        console.log(listToArray(mar));

        function prepend(firstValue){
            var tmp= {
                value: firstValue,
                next: this
            }
            return tmp;
        }

        var p=prepend.call(mar,4);
        console.log(p);

        function nth(mylist,int){

            if(int<0){return console.log('Нет такой позиции')}
            else {
                int--;
                var tmp= mylist.value;
                if(int>0){
                    if(mylist.next!=null)
                    return nth(mylist.next, int)
                    else return console.log('Нет такой позиции');
                }
                return tmp;
            }
        }

        var digit=nth(p,2);
        console.log('На втором месте в предыдущем объекте стоит: '+digit);

        ///////////////////////////////////////////////////////////////////
        console.log();
        console.log('*********** Задание 2 *************');
        // Задание 2

        function reverseArray(arr) {
            var newArr=[];
            for(var i=arr.length;i>0;i--)
            {newArr.push(arr[i-1]);}
            return newArr;
        }

        ar1=[1,2,3,4,5,6,7,8,9];
        ar2=reverseArray(ar1);
        console.log('До: '+ar1);
        console.log('Новый массив реверсом первого: '+ar2);

        function reverseArrayInPlace(arr) {
            var leng=(arr.length%2)?arr.length/2:arr.length/2-1;
            for(var i=0;i<leng;i++) {
                var tmp = arr[i];
                arr[i] = arr[arr.length - i-1];
                arr[arr.length - i-1] = tmp;
            }
        }
        reverseArrayInPlace(ar1);

        console.log('Реверс первого массива: '+ar1);

        ///////////////////////////////////////////////////////////////////
        console.log();
        console.log('*********** Задание 3 *************');
        // Задание 3


        var user = {
            name: 'Sergey',
            age: 30,
            email: 'sergey@gmail.com',
            friends: ['Sveta', 'Artem']
        }

        function pick(obj,keys) {
            var newObj={};
            for(var i=0; i<keys.length;i++){
                if (obj[keys[i]])
                    newObj[keys[i]]=obj[keys[i]];
            }
            return newObj;
        }

        var p1=pick(user, ['name']); // {name: 'Sergey'}
        var p2=pick(user, ['name', 'second-name']); // {name: 'Sergey'}
        var p3=pick(user, ['name', 'friends']); // {name: 'Sergey', friends:['Sveta', 'Artem']}

        console.log(p1);
        console.log(p2);
        console.log(p3);















    </script>
</head>
<body>

</body>
</html>